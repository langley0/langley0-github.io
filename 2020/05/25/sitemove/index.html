<!doctype html>
<html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no"/><link rel="stylesheet" href="../../../../assets/default.css"/><link rel="stylesheet" href="../../../../assets/markdown.css"/></head><body><header class="site-header"><div class="wrapper"><nav class="site-nav"><div class="trigger"><a class="page-link" href="../../../../">blog</a><a class="page-link" href="../../../../about.html">about</a></div></nav></div></header><div class="page-content"><div class="wrapper"><div class="post"><header class="post-header"><h1 class="post-title">사이트 이동</h1><p></p></header><div class="articlebox"><div class="markdown-body"><p><a href="https://pages.github.com"><span>깃헙페이지 </span></a><span> 는 기본적으로 루트 디렉토리를 따로 지정할 수 없다. </span></p><p><span>프로젝트 디렉토리가 루트디렉토리가 되는 구조이다. 따라서 사이트주소로 바로 웹사이트를 띄우려면 프로젝트 루트에 index.html 파일을 위치시켜야 한다. </span></p><p><span>그런데 이런 상황에서는  index.html 파일을 비롯한 css 파일들이 모두 루트에 몰려있기 때문에 다른 소스파일들과의 관계가 이상해진다. </span></p><p><img src="sitemove-01.png" alt="folder"/></p><p><span>즉 데이터와 코드를 분리하는 작업이 필요하다. </span></p><h2><span>서브폴더 </span></h2><p><span>첫번째로는 서프폴더는 만드는 일이었다. public 폴더를 만들어서 해당 폴더에 필요한 데이터를 생성한다 </span></p><p><span>이렇게 하면 접근경로가 www.github.io/(프로젝트이름)/public  이 된다. </span></p><p><span>...이건 너무길다 </span></p><h2><span>브런치 (서브트리) </span></h2><p><span>두번째 생각한 방법은 깃헙 페이지용 브런치를 만들어서 public 폴더를 최상위로 올린상태를 유지하는 것이다. </span></p><p><span>우선 gh-page 라는 브런치를 만들고 public 폴더 밑에 있는 것을 해당 브런치에 루트로 인식시키는 것이다. </span></p><p><span>물론 그냥 브런치를 만들수는 없고, </span><a href="https://iseongho.github.io/posts/git-subtree/"><span>subtree </span></a><span> 라는 것을 이용해서 폴더를 브런치로 변환하여야 한다. </span></p><p><span>서브트리 (subtree) 사용법은 다음과 같다 </span></p><blockquote><p><span>주의) 이미 폴더가 master 에 커밋되어 있는 상황이다 </span></p> </blockquote><p><span>문법 </span></p><div style="background-color:#111;border-radius:.3em;margin:.5em 0;padding:1em;overflow:auto"><pre style="color:#ccc;background:none;font-family:Consolas, Monaco, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0;margin:0;overflow:auto"><code style="color:#ccc;background:none;font-family:Consolas, Monaco, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#f08d49">git</span> subtree push --prefix <span class="token" style="color:#7ec699">&quot;디렉토리&quot;</span> <span class="token" style="color:#7ec699">&quot;깃헙리포트&quot;</span> <span class="token" style="color:#7ec699">&quot;브런치&quot;</span>
</code></pre></div><p><span>실제 사용 </span></p><div style="background-color:#111;border-radius:.3em;margin:.5em 0;padding:1em;overflow:auto"><pre style="color:#ccc;background:none;font-family:Consolas, Monaco, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0;margin:0;overflow:auto"><code style="color:#ccc;background:none;font-family:Consolas, Monaco, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#f08d49">git</span> subtree push --prefix public langley0 
https://github.com/langley0/bellog.git gh-pages
</code></pre></div><p><span>로컬에 서브트리를 가져올때는  </span><code class="inlincode">push</code><span> 대신에  </span><code class="inlincode">pull</code><span> 을 사용하면 된다 </span></p><div style="background-color:#111;border-radius:.3em;margin:.5em 0;padding:1em;overflow:auto"><pre style="color:#ccc;background:none;font-family:Consolas, Monaco, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0;margin:0;overflow:auto"><code style="color:#ccc;background:none;font-family:Consolas, Monaco, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#f08d49">git</span> subtree pull --prefix <span class="token" style="color:#7ec699">&quot;디렉토리&quot;</span> <span class="token" style="color:#7ec699">&quot;깃헙리포트&quot;</span> <span class="token" style="color:#7ec699">&quot;브런치&quot;</span>
</code></pre></div><p><span>하지만 이 방법은 블로그 포스트 커밋할때 항상 서브트리를 사용해야 하므로 귀찮고 실수하기 쉬운 상황을 만든다. </span></p><p><span>그래서 결과적으로 블로그 생성기와 블로그의 프로젝트를 분리하기로 하였다 </span></p><h2><span>github.io </span></h2><p><a href="https://pages.github.com"><span>깃헙페이지 </span></a><span> 의 특수한 룰중 하나는 프로젝트 이름을 {아이디}.github.io 로 지으면 해당 url 로 바로 접근이 가능하다는 점이다 </span></p><p><span>나의 경우에는 langley0.github.io 로 프로젝트를 만들면, 프로젝트 url 은 https://github.com/langley0/langley0.github.io 가 되고, 이 프로젝트의 깃헙페이지는 https://langley0.github.io/ 이 되는 식이다. </span></p><p><span>따라서 해당 이름으로 프로젝트를 생성하고 거기에 스태틱 html 파일들을 업로드 하는 방식을 사용하기로 하였다 </span></p><p><span>여기서 다른 사람들의 참여를 위해서 html 파일 생성기 사용이 쉬어야 하는데, npm 등록을 생각해보았지만, 번거로움이 있어서 다른 방법을 찾기로 하였다. </span></p><p><span>이때 생각난 것이 앞서 사용한 subtree 방식이었다. </span></p><p><span>우선 generator 라는 이름으로 폴더를 바꾸고 여기에 생성기 프로젝트를 서브트리로 등록하는 과정을 사용하는 것이다. </span></p><p><span>그러면 프로젝트를 받아올때 실제로는 두개의 프로젝트를 받게 된다. </span></p><p><span>이렇게 된 생성기 프로젝트가 업데이트 될때 번거롭지만 서브트리에 추가만 해준다면 다른 사람들은 편하게 사용할 수 있다  </span><s><span>나만 불편한.. </span> </s></p></div></div></div></div></div><footer></footer></body></html>